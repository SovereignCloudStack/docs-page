"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4349],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),g=r,d=u["".concat(c,".").concat(g)]||u[g]||m[g]||i;return n?a.createElement(d,o(o({ref:t},p),{},{components:n})):a.createElement(d,o({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},494:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={},o="Quickstart",s={unversionedId:"iaas/components/openstack-image-manager/quickstart",id:"iaas/components/openstack-image-manager/quickstart",title:"Quickstart",description:"This quickstart guide will upload a single, small, private image to your OpenStack.",source:"@site/docs/02-iaas/components/openstack-image-manager/quickstart.md",sourceDirName:"02-iaas/components/openstack-image-manager",slug:"/iaas/components/openstack-image-manager/quickstart",permalink:"/docs/iaas/components/openstack-image-manager/quickstart",draft:!1,editUrl:"https://github.com/SovereignCloudStack/docs-page/tree/main/docs/02-iaas/components/openstack-image-manager/quickstart.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Requirements",permalink:"/docs/iaas/components/openstack-image-manager/requirements"},next:{title:"Image definitions",permalink:"/docs/iaas/components/openstack-image-manager/configuration"}},c={},l=[{value:"Installation",id:"installation",level:2},{value:"Uploading an image to your OpenStack",id:"uploading-an-image-to-your-openstack",level:2},{value:"Create a config",id:"create-a-config",level:3},{value:"Run the image manager",id:"run-the-image-manager",level:3}],p={toc:l};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"quickstart"},"Quickstart"),(0,r.kt)("p",null,"This quickstart guide will upload a single, small, private image to your OpenStack."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"First, you need to install the openstack-image-manager. You can either use pip:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"pip3 install openstack-image-manager\n")),(0,r.kt)("p",null,"Or you can clone the repository and run it via ",(0,r.kt)("inlineCode",{parentName:"p"},"tox"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"tox -- --help\n")),(0,r.kt)("h2",{id:"uploading-an-image-to-your-openstack"},"Uploading an image to your OpenStack"),(0,r.kt)("p",null,"To be able to upload an image to your OpenStack, you need to have at least one config file."),(0,r.kt)("h3",{id:"create-a-config"},"Create a config"),(0,r.kt)("p",null,"Create a config file ending with ",(0,r.kt)("em",{parentName:"p"},".yml")," in a directory, e.g. ",(0,r.kt)("em",{parentName:"p"},"~/images")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nimages:\n  - name: MyCirros\n    format: qcow2\n    login: cirros\n    password: gocubsgo\n    min_disk: 1\n    min_ram: 32\n    status: active\n    visibility: private\n    multi: false\n    meta:\n      architecture: x86_64\n      hw_disk_bus: scsi\n      hw_rng_model: virtio\n      hw_scsi_model: virtio-scsi\n      hw_watchdog_action: reset\n      os_distro: cirros\n      replace_frequency: never\n      uuid_validity: none\n      provided_until: none\n    tags: []\n    versions:\n      - version: '0.6.0'\n        url: https://github.com/cirros-dev/cirros/releases/download/0.6.0/cirros-0.6.0-x86_64-disk.img\n        checksum: \"sha256:94e1e2c94dbbae7d4bdc38e68590a1daf73c9de2d03dd693857b4b0a042548e8\"\n        build_date: 2022-09-28\n")),(0,r.kt)("h3",{id:"run-the-image-manager"},"Run the image manager"),(0,r.kt)("p",null,"Run the manager against an OpenStack cloud (here called ",(0,r.kt)("em",{parentName:"p"},"my-cloud"),").\nOnly run it against config files where the name matches ",(0,r.kt)("em",{parentName:"p"},"Cirr"),".\nAlso provide the location of your image files (",(0,r.kt)("em",{parentName:"p"},"~/images/"),")."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'openstack-image-manager --cloud my-cloud --filter ".*Cirr.*" --images ~/images/\n')))}m.isMDXComponent=!0}}]);