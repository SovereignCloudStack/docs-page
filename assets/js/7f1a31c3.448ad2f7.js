"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9818],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,h=m["".concat(l,".").concat(c)]||m[c]||d[c]||o;return a?n.createElement(h,s(s({ref:t},u),{},{components:a})):n.createElement(h,s({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var p=2;p<o;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5024:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const o={},s="Release Notes for SCS Release 2",i={unversionedId:"releases/Release2",id:"releases/Release2",title:"Release Notes for SCS Release 2",description:"(Release Date: 2022-03-23)",source:"@site/docs/06-releases/Release2.md",sourceDirName:"06-releases",slug:"/releases/Release2",permalink:"/docs/releases/Release2",draft:!1,editUrl:"https://github.com/SovereignCloudStack/docs-page/tree/main/docs/06-releases/Release2.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Release Notes for SCS Release 1",permalink:"/docs/releases/Release1"},next:{title:"Release Notes for SCS Release 3",permalink:"/docs/releases/Release3"}},l={},p=[{value:"Scope",id:"scope",level:2},{value:"Component Versions and User-visible improvements (highlights)",id:"component-versions-and-user-visible-improvements-highlights",level:2},{value:"New Features (Highlights)",id:"new-features-highlights",level:2},{value:"Operator focused improvements",id:"operator-focused-improvements",level:3},{value:"SCS Developer focused improvements (testbed)",id:"scs-developer-focused-improvements-testbed",level:3},{value:"Upgrade/Migration notes",id:"upgrademigration-notes",level:2},{value:"Cluster Management",id:"cluster-management",level:3},{value:"OSISM",id:"osism",level:3},{value:"Removals",id:"removals",level:2},{value:"Deprecations",id:"deprecations",level:2},{value:"Security Fixes",id:"security-fixes",level:2},{value:"Resolved Issues",id:"resolved-issues",level:2},{value:"Standards Conformance",id:"standards-conformance",level:2},{value:"Release Tagging",id:"release-tagging",level:2},{value:"List of known issues &amp; restrictions in R2",id:"list-of-known-issues--restrictions-in-r2",level:2},{value:"Future directions (selected Highlights)",id:"future-directions-selected-highlights",level:2},{value:"Contributing",id:"contributing",level:2}],u={toc:p};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"release-notes-for-scs-release-2"},"Release Notes for SCS Release 2"),(0,r.kt)("p",null,"(Release Date: 2022-03-23)"),(0,r.kt)("h2",{id:"scope"},"Scope"),(0,r.kt)("p",null,"Main goals for Release 2 (R2) were massive improvements in bare\nmetal deployment and our cluster management layer gaining the\nability to handle many clusters independently with a number\nof optional services."),(0,r.kt)("h2",{id:"component-versions-and-user-visible-improvements-highlights"},"Component Versions and User-visible improvements (highlights)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We support the latest ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.22.md"},"Kubernetes 1.22")," and\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.23.md"},"1.23")," releases.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The Kubernetes Cluster API is now available in a stable v1beta1\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/kubernetes-sigs/cluster-api/releases"},"release 1.0.x"),"\nwith the corresponding ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/kubernetes-sigs/cluster-api/releases"},"cluster-api-provider-openstack 0.5.x"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"There are a number of new standard services available for the\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/k8s-cluster-api-provider/"},"k8s capi"),"\nmanaged clusters, amongst which cert-manager and flux. The clusters\nhave better default settings for the nginx-ingress, anti-affinity\nfor the nodes and the ability to chose cilium over calico and\nto have stable multi-controller node setups on clouds without\nlow-latency local storage.\nPlease consult the\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/k8s-cluster-api-provider/blob/master/Release-Notes-R2.md"},"k8s capi provider release notes"),"\nfor more details.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://releases.openstack.org/xena/highlights.html"},"OpenStack Xena release")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"We have also enabled SPICE support in addition to noVNC to\naccess the graphical console of VMs."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The base infrastructure is provided by\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/osism/release/blob/main/notes/3.0.0/NOTES.md"},"OSISM 3.0.0"),"\nwhich in turn build on top of kolla and kolla-ansible."))),(0,r.kt)("h2",{id:"new-features-highlights"},"New Features (Highlights)"),(0,r.kt)("h3",{id:"operator-focused-improvements"},"Operator focused improvements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The Cluster Management Node is now well prepared to manage numerous\nclusters with independent settings and different feature sets by\ncreating default settings and then keeping track of various workload\nclusters in own directories. Documentation has been vastly improved.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The Cluster Management node now gets its artifacts directly from\ngit, making incremental updates to it a lot easier, thus also\navoiding to disrupt workload clusters through redeployed management\nnodes to roll out updates.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Added dashboards for the operators:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Homer"),(0,r.kt)("li",{parentName:"ul"},"Flower"),(0,r.kt)("li",{parentName:"ul"},"Grafana dashboards"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Work is underway to supersede ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/openstack-health-monitor"},"openstack-health-monitor"),"\nwith a solution that is using tempest and rally. The health-monitor\nhas received improvements though and is at this point still fully\nsupported and recommended -- it has surfaced a number of issues with\ntest clouds, especially failed metadata services.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"User federation has been prepared to be ready for Gaia-X federation integration"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Keystone can consume users from Keycloak via OpenID-Connect"),(0,r.kt)("li",{parentName:"ul"},"Keycloak uses the highly-available Galera database cluster now"),(0,r.kt)("li",{parentName:"ul"},"mod_oauth2 support for Keystone"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Vast improvements in the SCS Deployment automation"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Full automation of bare metal deployment with Bifrost and Ironic"),(0,r.kt)("li",{parentName:"ul"},"Using NetBox as central source of truth for the complete setup"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"New services available (opt-in)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"ClamAV, dnsdist, cgit, FRRouting, Nexus, Tang"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Traefik centrally routes the connections to Nexus, NetBox, phpMyAdmin, Homer, Flower, ARA, cgit"))),(0,r.kt)("h3",{id:"scs-developer-focused-improvements-testbed"},"SCS Developer focused improvements (testbed)"),(0,r.kt)("p",null,"We now have scripts that allow us to connect to the workload cluster node network\nfor debugging purposes."),(0,r.kt)("p",null,"The configuration of the testbed was minimized and the deployment was made more production-oriented."),(0,r.kt)("p",null,"Further noteworthy improvements to testbed:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"TLS is implemented throughout the services also in testbed"),(0,r.kt)("li",{parentName:"ul"},"Virtual BMC in testbed"),(0,r.kt)("li",{parentName:"ul"},"Public DNS for testbed (",(0,r.kt)("inlineCode",{parentName:"li"},"testbed.osism.xyz"),")")),(0,r.kt)("p",null,"We have a Zuul CI framework running and started migrating CI testing from github actions to\nusing our Zuul infrastructure."),(0,r.kt)("p",null,"Renovate is being used to keep the pinned versions up-to-date and consistent across the\nmany repositories."),(0,r.kt)("p",null,"An overview over the used software versions is available from the\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/osism/release"},"OSISM release")," repository as input\nfor a complete SBOM. This allows to e.g. investigate the contents of the\nused (v3.0.0) images."),(0,r.kt)("h2",{id:"upgrademigration-notes"},"Upgrade/Migration notes"),(0,r.kt)("h3",{id:"cluster-management"},"Cluster Management"),(0,r.kt)("p",null,"The names of a few settings have changed since R1 -- if you have diverged from the defaults,\nthis may require adjusting the ",(0,r.kt)("inlineCode",{parentName:"p"},"environment.tfvars")," or the ",(0,r.kt)("inlineCode",{parentName:"p"},"clusterctl.yaml")," files.\nSee ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/k8s-cluster-api-provider/blob/master/Release-Notes-R2.md#incompatible-changes"},"k8s-cluster-api-provider Release Notes"),"\nfor more details."),(0,r.kt)("p",null,"The updating approach has fundamentally changed:\nIf you were used to deploy fresh management nodes regularly to\nbenefit from the upstream improvements, this need has been vastly reduced now,\nallowing for long-living management nodes and workload clusters managed by them."),(0,r.kt)("h3",{id:"osism"},"OSISM"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Playbook generic-configuration.yml was deprecated. From now on, please use the playbook of\nthe same name in the manager environment (manager-configuration.yml). All configuration\nparameters from environments/configuration.yml should be moved to environments/manager/configuration.yml.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In kolla-ansible the haproxy role was renamed to loadbalancer. Accordingly, loadbalancer must now be\nused for the deployment of HAProxy."))),(0,r.kt)("h2",{id:"removals"},"Removals"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"OpenStack Victoria images are no longer built and thus no longer kept updated"),(0,r.kt)("li",{parentName:"ul"},"Support for Zabbix has been removed, Prometheus will be used as the only monitoring stack in the future"),(0,r.kt)("li",{parentName:"ul"},"Heimdall as a service was removed, as an alternative Homer is now available")),(0,r.kt)("h2",{id:"deprecations"},"Deprecations"),(0,r.kt)("p",null,"Deprecations happen according to our ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/standards/blob/main/Design-Docs/Release-Policies.md#deprecation"},"deprecation policy"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Cockpit is deprecated in favor of Boundary by HashiCorp or Teleport"),(0,r.kt)("li",{parentName:"ul"},"ceph-ansible is deprecated in preparation for cephadm"),(0,r.kt)("li",{parentName:"ul"},"All osism- scripts on the manager are deprecated and will be replaced by the new OSISM CLI. The scripts will be removed in the next release"),(0,r.kt)("li",{parentName:"ul"},"The following services are currently not used and are deprecated and scheduled for removal as of now: Falco, Jenkins, Rundeck, Lynis, Trivy"),(0,r.kt)("li",{parentName:"ul"},"Heat will no longer be offered by default in the testbed in the future"),(0,r.kt)("li",{parentName:"ul"},"The docker-compose CLI will be removed and replaced by the new compose plugin for Docker.\ndocker-compose is then no longer available and docker compose must be used instead")),(0,r.kt)("h2",{id:"security-fixes"},"Security Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Elasticsearch container included in OSISM testbed was exposed to the log4j\nissue -- new images were provided for addressing this. See the\n",(0,r.kt)("a",{parentName:"li",href:"https://scs.community/de/security/2021/12/13/advisory-log4j/"},"security advisory"))),(0,r.kt)("h2",{id:"resolved-issues"},"Resolved Issues"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The nginx-ingress loadbalancer could run into name conflicts before.\nThe loadbalancer now uses a health monitor to avoid routing to the wrong\nnodes, which typically resulted in 10s delays when connecting to the service\nbehind the ingress controller.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"cAdvisor has now reduced number of Prometheus metrics and labels exported by\ndefault - this will ease the load on the system.\nThis implies that corresponding time series data will no longer be created."))),(0,r.kt)("h2",{id:"standards-conformance"},"Standards Conformance"),(0,r.kt)("p",null,"The clusters created with our cluster-API cluster management solution pass\nthe ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/standards/blob/main/Design-Docs/Image-Properties-Spec.md"},"CNCF conformance tests"),"\nas reported by ",(0,r.kt)("a",{parentName:"p",href:"https://sonobuoy.io/"},"sonobuoy"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://openstack.org/"},"OpenStack")," layer passes the\n",(0,r.kt)("a",{parentName:"p",href:"https://openinfra.dev/"},"OIF")," trademark tests, so cloud providers\nleveraging the stack should easily be able to achieve the\n",(0,r.kt)("a",{parentName:"p",href:"https://www.openstack.org/brand/interop/"},'"OpenStack powered compute"'),"\ntrademark certification."),(0,r.kt)("p",null,"Our partner plusserver has ",(0,r.kt)("a",{parentName:"p",href:"https://www.openstack.org/brand/interop/"},"achieved"),"\na ",(0,r.kt)("a",{parentName:"p",href:"https://www.bsi.bund.de/EN/Topics/CloudComputing/Compliance_Criteria_Catalogue/Compliance_Criteria_Catalogue_node.html"},"BSI C5"),"\nsecurity certification for their SCS implementation pluscloud open."),(0,r.kt)("p",null,"We are working within ",(0,r.kt)("a",{parentName:"p",href:"https://gaia-x.eu/"},"Gaia-X")," to further the power\nof Gaia-X self-descriptions and are closely working with the\n",(0,r.kt)("a",{parentName:"p",href:"https://gxfs.de/"},"GXFS project"),"\nto jointly deliver a standard toolbox for Gaia-X compliant\ninfrastructure and service offerings."),(0,r.kt)("p",null,"The SCS standards for ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/standards/blob/main/Design-Docs/flavor-naming.md"},"flavor naming")," and\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/standards/blob/main/Design-Docs/Image-Properties-Spec.md"},"image metadata"),"\nare largely unchanged since R1. We have however\nmade progress in our reference implementation fully implementing\nthem without any further tweaks."),(0,r.kt)("h2",{id:"release-tagging"},"Release Tagging"),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/standards/blob/main/Design-Docs/Release-Numbering-Scheme.md"},"Release Numbering scheme")," -- unchanged from R0.\nWe have added the tag ",(0,r.kt)("inlineCode",{parentName:"p"},"v3.0.0")," to the relevant repositories to designate the ",(0,r.kt)("inlineCode",{parentName:"p"},"SCS_RELEASE_R2"),"."),(0,r.kt)("p",null,"Note that we will release R3 (v4.0.0) in September 2022 and stop providing maintenance\nupdates for R2 at the end of October."),(0,r.kt)("h2",{id:"list-of-known-issues--restrictions-in-r2"},"List of known issues & restrictions in R2"),(0,r.kt)("h2",{id:"future-directions-selected-highlights"},"Future directions (selected Highlights)"),(0,r.kt)("p",null,"Alongside with R2 we published a blog post on some first thoughts on\n",(0,r.kt)("a",{parentName:"p",href:"https://scs.community/tech/2022/03/23/r2-and-future-directions/"},"future directions towards R3"),"."),(0,r.kt)("h2",{id:"contributing"},"Contributing"),(0,r.kt)("p",null,"We appreciate contribution to strategy and implementation, please join\nour community -- or just leave input on the github issues and PRs.\nHave a look at our ",(0,r.kt)("a",{parentName:"p",href:"https://scs.community/docs/contributor/"},"contributor guide"),".\nWe also have worked on a ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SovereignCloudStack/standards/pull/26"},"Code of Conduct"),"\nto document the expected behavior of contributors and how we deal with\ncases where individuals fail to meet the expectation."))}d.isMDXComponent=!0}}]);